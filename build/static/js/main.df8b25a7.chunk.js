(this["webpackJsonpchainx-signer"]=this["webpackJsonpchainx-signer"]||[]).push([[0],{1037:function(e,t,n){},1039:function(e,t,n){},1040:function(e,t,n){},1041:function(e,t,n){},1042:function(e,t,n){},1043:function(e,t,n){},1044:function(e,t,n){},1090:function(e,t,n){},1091:function(e,t,n){},1093:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(30),s=n.n(c),o=n(23),i=n.n(o),u=n(291),l=n(54),d=n(28),m=function(e,t){var n=function(n){e.current&&!e.current.contains(n.target)&&t()};Object(a.useEffect)((function(){return document.addEventListener("click",n),function(){document.removeEventListener("click",n)}}))},p=function(e){var t,n,a=e.url,r=e.method,c=e.params,s=void 0===c?[]:c,o=e.timeOut,i=void 0===o?5e3:o,u=Number(Date.now()+Math.random().toString().substr(2,3)).toString(36),l=JSON.stringify({id:u,jsonrpc:"2.0",method:r,params:s}),d=function(){return new Promise((function(e,r){var c=new WebSocket(a);c.onmessage=function(a){try{var s=JSON.parse(a.data);s.id===u&&(n=Date.now(),e({data:s.result,wastTime:n-t}),c.close())}catch(o){r(o)}},c.onopen=function(){t=Date.now(),c.send(l)},c.onerror=function(e){c.close(),r(e)}}))};return i?Promise.race([d(),new Promise((function(e,t){setTimeout((function(){t("\u8bf7\u6c42\u8d85\u65f6")}),i)}))]):d()},f=[{name:"w1.org",url:"wss://w1.chainx.org/ws"},{name:"w2.org",url:"wss://w2.chainx.org/ws"},{name:"HashQuark",url:"wss://chainx.hashquark.io"},{name:"BuildLinks",url:"wss://chainx.buildlinks.org"},{name:"w1.cn",url:"wss://w1.chainx.org.cn/ws"}],h=[{name:"testnet.w1.org.cn",url:"wss://testnet.w1.chainx.org.cn/ws"}],v=function(e,t){return t?h.some((function(t){return t.url===e.url})):f.some((function(t){return t.url===e.url}))},E=function(e,t,n,a){return i.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:e.forEach((function(e){p({url:e.url,method:"chain_getBlock",timeOut:7e3}).then((function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};r.data&&n(a({chainId:t,url:e.url,delay:r.wastTime}))})).catch((function(r){console.log("catched",r),n(a({chainId:t,url:e.url,delay:"timeout"}))}))}));case 1:case"end":return r.stop()}}))},g=n(136),N=n(79),b=n.n(N),w=null,y=function(e){return i.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return w=new b.a(e),t.next=3,i.a.awrap(w.isRpcReady());case 3:return t.abrupt("return",w);case 4:case"end":return t.stop()}}))},x=function(){return w},O=function(e){return"BTC"===e?"X-BTC":e},k=function(e){return new Promise((function(t){setTimeout(t,e)}))},j=n(185),C=n(286),S=n(287),A=n(57),T=Object(A.b)({name:"test",initialState:"test",reducers:{setTest:{reducer:function(e,t){return t.payload.text},prepare:function(e){return{payload:{text:e}}}}}}),I=(T.actions.setTest,T.reducer),M=n(583),P="chainx-mainnet",X="chainx-testnet",q="account-change",D="node-change",L="network-change",F="tx-status",B=P,K=X,_={version:0,network:B},H=window.settingStore.get("settings")||_,W=Object(A.b)({name:"setting",initialState:H,reducers:{setNetwork:function(e,t){var n=t.payload,a=e.network;e.network=n,window.settingStore.set("settings",e),a!==n&&window.sockets.broadcastEvent(L,{from:a,to:n})}}}),z=W.actions.setNetwork,R=function(e){return e.setting.network},J=Object(M.a)(R,(function(e){return e===K})),Z=W.reducer,Q=n(288),V=n.n(Q);function $(e){if(e)return V.a.pick(e,["name","address"])}var G=window.accountStore.get("accounts")||{version:0,chainxMainNetAccounts:[],currentChainXMainNetAccount:null,chainxTestNetAccounts:[],currentChainxTestNetAccount:null};function U(e,t){var n;if(P===t)n=e.chainxMainNetAccounts;else{if(X!==t)throw new Error("Invalid chainId: ".concat(t));n=e.chainxTestNetAccounts}return n}var Y=Object(A.b)({name:"account",initialState:G,reducers:{addAccount:function(e,t){var n=t.payload,a=n.chainId,r=n.account,c=r.name,s=r.address,o=r.keystore,i=U(e,a);if(!(i.findIndex((function(e){return e.address===s}))>=0)){var u,l={name:c,address:s,keystore:o};i.push(l),P===a?(u=e.currentChainXMainNetAccount,e.currentChainXMainNetAccount=l):X===a&&(u=e.currentChainxTestNetAccount,e.currentChainxTestNetAccount=l),window.accountStore.set("accounts",e),window.sockets.broadcastEvent(q,{from:$(u),to:$(l)})}},setCurrentChainXMainNetAccount:function(e,t){var n=t.payload.address,a=e.chainxMainNetAccounts.find((function(e){return e.address===n}));if(!a)throw new Error("No ChainX mainnet account with address ".concat(n));var r=e.currentChainXMainNetAccount;e.currentChainXMainNetAccount=a,window.sockets.broadcastEvent(q,{from:$(r),to:$(a)})},removeAccount:function(e,t){var n,a,r=t.payload,c=r.chainId,s=r.address,o=U(e,c),i=o.findIndex((function(e){return e.address===s}));i<0||(o.splice(i,1),c===P?(n=e.currentChainXMainNetAccount,e.currentChainXMainNetAccount=o[0]||null,a=o[0]||null):c===X&&(n=e.currentChainxTestNetAccount,e.currentChainxTestNetAccount=o[0]||null,a=o[0]||null),window.accountStore.set("accounts",e),window.sockets.broadcastEvent(q,{from:$(n),to:$(a)}))},setCurrentChainXTestNetAccount:function(e,t){var n=t.payload.address,a=e.chainxTestNetAccounts.find((function(e){return e.address===n}));if(!a)throw new Error("No ChainX testnet account with address ".concat(n));var r=e.currentChainXMainNetAccount;e.currentChainxTestNetAccount=a,window.sockets.broadcastEvent(q,{from:$(r),to:$(a)})}}}),ee=Y.actions,te=ee.addAccount,ne=ee.removeAccount,ae=ee.setCurrentChainXMainNetAccount,re=ee.setCurrentChainXTestNetAccount,ce=Object(M.a)(R,(function(e){return e.account.chainxMainNetAccounts}),(function(e){return e.account.chainxTestNetAccounts}),(function(e,t,n){return e===K?n:e===B?t:void 0})),se=Object(M.a)(R,(function(e){return e.account.currentChainXMainNetAccount}),(function(e){return e.account.currentChainxTestNetAccount}),(function(e,t,n){return e===K?n:e===B?t:void 0})),oe=Y.reducer,ie=[{name:"w1.org",url:"wss://w1.chainx.org/ws"},{name:"w2.org",url:"wss://w2.chainx.org/ws"},{name:"HashQuark",url:"wss://chainx.hashquark.io"},{name:"BuildLinks",url:"wss://chainx.buildlinks.org"},{name:"w1.cn",url:"wss://w1.chainx.org.cn/ws"}],ue=[{name:"testnet.w1.org.cn",url:"wss://testnet.w1.chainx.org.cn/ws"}],le={version:0,chainxMainNetNodes:ie,currentChainXMainNetNode:ie[0],chainxTestNetNodes:ue,currentChainXTestNetNode:ue[0],testnetNodesDelay:{},mainnetNodesDelay:{}},de=window.nodeStore.get("nodes")||le;function me(e,t){var n;if(P===t)n=e.chainxMainNetNodes;else{if(X!==t)throw new Error("Invalid chainId: ".concat(t));n=e.chainxTestNetNodes}return n}var pe=Object(A.b)({name:"node",initialState:de,reducers:{addNode:function(e,t){var n=t.payload,a=n.chainId,r=n.node,c=r.name,s=r.url,o=me(e,a);if(!o.find((function(e){return e.url===s}))){var i,u={name:c,url:s};o.push(u),P===a?(i=e.currentChainXMainNetNode,e.currentChainXMainNetNode=u):X===a&&(i=e.currentChainXTestNetNode,e.currentChainXTestNetNode=u),[P,X].includes(a)&&window.sockets.broadcastEvent(D,{from:i,to:u}),window.nodeStore.set("nodes",e)}},setNodeDelay:function(e,t){var n=t.payload,a=n.chainId,r=n.url,c=n.delay,s=e.testnetNodesDelay;P===a&&(s=e.mainnetNodesDelay),s[r]=c,window.nodeStore.set("nodes",e)},removeNode:function(e,t){var n=t.payload,a=n.chainId,r=n.url,c=me(e,a);if(!(c.length<=1)){var s=c.findIndex((function(e){return e.url===r}));if(!(s<0)){c.splice(s,1);var o=null;P===a?(o=e.currentChainXMainNetNode,e.currentChainXMainNetNode=c[0]||null):X===a&&(o=e.currentChainXTestNetNode,e.currentChainXTestNetNode=c[0]||null),[P,X].includes(a)&&window.sockets.broadcastEvent(D,{from:o,to:c[0]||null}),window.nodeStore.set("nodes",e)}}},setCurrentChainXMainNetNode:function(e,t){var n=t.payload.url,a=e.chainxMainNetNodes.find((function(e){return e.url===n}));if(!a)throw new Error("No ChainX mainnet node with url ".concat(n));var r=e.currentChainXTestNetNode;e.currentChainXMainNetNode=a,window.nodeStore.set("nodes",e),window.sockets.broadcastEvent(D,{from:r,to:a})},setCurrentChainXTestNetNode:function(e,t){var n=t.payload.url,a=e.chainxTestNetNodes.find((function(e){return e.url===n}));if(!a)throw new Error("No ChainX testnet node with url ".concat(n));var r=e.currentChainXTestNetNode;e.currentChainXTestNetNode=a,window.nodeStore.set("nodes",e),window.sockets.broadcastEvent(D,{from:r,to:a})},setCurrentChainXNode:function(e,t){var n=t.payload,a=n.chainId,r=n.url,c=me(e,a);if(c){var s,o=c.find((function(e){return e.url===r}));if(o)P===a?(s=e.currentChainXMainNetNode,e.currentChainXMainNetNode=o):X===a&&(s=e.currentChainXTestNetNode,e.currentChainXTestNetNode=o),window.nodeStore.set("nodes",e),window.sockets.broadcastEvent(D,{from:s,to:o})}}}}),fe=pe.actions,he=fe.addNode,ve=fe.removeNode,Ee=(fe.setCurrentChainXMainNetNode,fe.setCurrentChainXTestNetNode,fe.setCurrentChainXNode),ge=fe.setNodeDelay,Ne=Object(M.a)(R,(function(e){return e.node.chainxMainNetNodes}),(function(e){return e.node.chainxTestNetNodes}),(function(e,t,n){return e===K?n:e===B?t:void 0})),be=Object(M.a)(R,(function(e){return e.node.mainnetNodesDelay}),(function(e){return e.node.testnetNodesDelay}),(function(e,t,n){return e===K?n:e===B?t:void 0})),we=Object(M.a)(R,(function(e){return e.node.currentChainXMainNetNode}),(function(e){return e.node.currentChainXTestNetNode}),(function(e,t,n){return e===K?n:e===B?t:void 0})),ye=pe.reducer,xe=Object(A.b)({name:"tx",initialState:{version:0,toSign:null},reducers:{setToSign:function(e,t){var n=t.payload;e.toSign=n},clearToSign:function(e){e.toSign=null}}}),Oe=xe.actions,ke=Oe.setToSign,je=Oe.clearToSign,Ce=function(e){return e.tx.toSign},Se=xe.reducer,Ae=Object(A.b)({name:"status",initialState:{loading:!1,initLoading:!0,homeLoading:!0},reducers:{setLoading:function(e,t){e.loading=t.payload},setInitLoading:function(e,t){e.initLoading=t.payload},setHomeLoading:function(e,t){e.homeLoading=t.payload}}}),Te=Ae.actions,Ie=Te.setLoading,Me=Te.setInitLoading,Pe=(Te.setHomeLoading,Ae.reducer),Xe=Object(A.b)({name:"intentions",initialState:{intentions:{}},reducers:{setIntentions:{reducer:function(e,t){e.intentions=t.payload}}}}),qe=Xe.actions.setIntentions;function De(e){var t,n;return i.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return t=x(),n=t.stake,e.abrupt("return",n);case 3:case"end":return e.stop()}}))}var Le=function(e){return e.intentions.intentions},Fe=Xe.reducer,Be=Object(A.b)({name:"trade",initialState:{pairs:{},fee:0},reducers:{setPairs:function(e,t){e.pairs=t.payload},setFee:function(e,t){e.fee=t.payload}}}),Ke=Be.actions,_e=Ke.setPairs,He=Ke.setFee,We=function(e){return e.trade.fee},ze=function(e){return e.trade.pairs},Re={test:I,status:Pe,intentions:Fe,trade:Be.reducer,account:oe,node:ye,setting:Z,tx:Se},Je=Object(A.a)({reducer:Re}),Ze="invalid-address",Qe="invalid-sign-data",Ve="sign-transaction-busy",$e=n(122),Ge="chainx_account",Ue="get_settings",Ye="chainx_sign",et="chainx_sign_send",tt="chainx_get_node";function nt(){var e=Je.getState(),t=se(e);return{result:t?V.a.pick(t,["name","address"]):t}}function at(){var e=Je.getState();return{result:we(e)}}var rt,ct=function(){function e(t,n,a){Object(C.a)(this,e),this.sockets=t,this.request=n,this.id=a}return Object(S.a)(e,[{key:"handle",value:function(){var e;return i.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:if((e=this.request.data.payload).method){t.next=3;break}return t.abrupt("return",this.sockets.emit(this.request.data.origin,this.id,"api",{id:e.id,error:{code:-1,message:"method not found"}}));case 3:t.t0=e.method,t.next=t.t0===Ue?6:t.t0===Ge?7:t.t0===tt?8:t.t0===et?9:t.t0===Ye?10:11;break;case 6:return t.abrupt("return",this.emit({result:Je.getState().setting}));case 7:return t.abrupt("return",this.emit(nt()));case 8:return t.abrupt("return",this.emit(at()));case 9:return t.abrupt("return",this.sign.apply(this,[e.id].concat(Object(g.a)(e.params),[!0])));case 10:return t.abrupt("return",this.sign.apply(this,[e.id].concat(Object(g.a)(e.params),[!1])));case 11:return t.abrupt("return",{error:{code:-1,message:"".concat(e.method," not found")}});case 12:case"end":return t.stop()}}),null,this)}},{key:"emit",value:function(e){this.sockets.emit(this.request.data.origin,this.id,"api",Object(j.a)({id:this.request.data.payload.id},e))}},{key:"sign",value:function(e,t,n,a){var r,c;return i.a.async((function(s){for(;;)switch(s.prev=s.next){case 0:if(r=Je.getState(),(c=se(r))&&c.address===t||this.emit({error:{code:Ze,message:"".concat(t," not found")}}),t&&n){s.next=5;break}return s.abrupt("return",this.emit({error:{code:Qe,message:"invalid sign params"}}));case 5:if(!Ce(r)){s.next=8;break}return s.abrupt("return",this.emit({error:{code:Ve,message:"sign busy"}}));case 8:s.prev=8,new $e.Extrinsic(n),s.next=15;break;case 12:return s.prev=12,s.t0=s.catch(8),s.abrupt("return",this.emit({error:{code:Qe,message:"invalid sign data"}}));case 15:Je.dispatch(ke({origin:this.request.data.origin,id:this.id,dataId:e,address:t,data:n,needBroadcast:!!a})),this.sockets.activateWindow();case 17:case"end":return s.stop()}}),null,this,[[8,12]])}}]),e}();var st=function(e,t){var n,a,r,c,s,o,u,l,d,m,p,f,h,v,E,g;return i.a.async((function(b){for(;;)switch(b.prev=b.next){case 0:g=function(e,t){return rt.emit(r,c,"event",{event:F,payload:{id:o,err:e||null,status:t||null}})},n=Je.getState(),a=Ce(n),r=a.origin,c=a.id,s=a.data,o=a.dataId,u=a.needBroadcast,l=se(n),d=x(),m=d.api;try{p=new N.SubmittableExtrinsic(d.api,s)}catch(w){rt.emit(r,c,"api",{id:o,error:{code:Qe,message:"invalid sign data"}})}return f=d.account.fromKeyStore(l.keystore,e),b.next=10,i.a.awrap(m.query.system.accountNonce(f.publicKey()));case 10:if(h=b.sent,v=p.sign(f,{nonce:h.toNumber(),acceleration:t,blockHash:m.genesisHash}),E=v.hash.toHex(),rt.emit(r,c,"api",{id:o,result:{hash:E,hex:v.toHex()}}),u){b.next=16;break}return b.abrupt("return");case 16:return b.prev=16,b.next=19,i.a.awrap(v.send(g));case 19:b.next=24;break;case 21:return b.prev=21,b.t0=b.catch(16),b.abrupt("return",g(b.t0));case 24:case"end":return b.stop()}}),null,null,[[16,21]])},ot=n(26),it=n(289),ut=n.n(it);var lt=function(e){var t=e.className,n=void 0===t?{}:t,a=e.style,c=void 0===a?{}:a,s=e.name,o=void 0===s?"":s;return r.a.createElement("i",{className:"iconfont icon".concat(o," ").concat(n),style:c})},dt=(n(584),n(290)),mt=n.n(dt);var pt=function(e){var t=Object(a.useRef)(null),n=Object(a.useState)(!1),c=Object(d.a)(n,2),s=c[0],o=c[1],u=Object(ot.c)(J),l=Object(a.useState)(""),p=Object(d.a)(l,2),f=p[0],h=p[1],v=Object(ot.c)(se),E=Object(ot.c)((function(e){return e.tx.toSign}));function g(){new ut.a(".copy").on("success",(function(){h("Copied!"),setTimeout((function(){h("")}),2e3)}))}function N(t){return i.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:v.address&&e.history.push({pathname:"/enterPassword",query:{address:v.address,keystore:v.keystore,type:t}}),o(!1);case 2:case"end":return n.stop()}}))}return Object(a.useEffect)((function(){i.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:try{E&&e.history.push({pathname:"/requestSign/"+E.id,query:E})}catch(n){console.log("sign request error occurs ",n)}finally{g()}case 1:case"end":return t.stop()}}))}),[u,E]),m(t,(function(){o(!1)})),r.a.createElement(r.a.Fragment,null,v?r.a.createElement("div",{className:"container-account"},r.a.createElement("div",{className:"account-title"},r.a.createElement("span",{className:"name"},v.name),r.a.createElement("div",{ref:t,className:"arrow",onClick:function(){o(!s)}},r.a.createElement(lt,{className:"arrow-icon",name:"Arrowdown"})),s?r.a.createElement("div",{className:"account-action"},r.a.createElement("span",{onClick:function(){return N("export")}},"Export PrivateKey"),r.a.createElement("span",{onClick:function(){return N("remove")}},"Forget Account")):null),r.a.createElement("div",{className:"account-address"},r.a.createElement("span",null,v.address)),r.a.createElement("button",{className:"copy","data-clipboard-text":v.address},r.a.createElement(lt,{className:"copy-icon",name:"copy"}),r.a.createElement("span",{className:"copy-text"},"Copy")),r.a.createElement("span",null,f)):r.a.createElement("div",{className:"container container-column container-no-account"},r.a.createElement("div",{className:"home-logo"},r.a.createElement("img",{src:mt.a,alt:"logo"})),r.a.createElement("button",{className:"button button-white button-new-account",onClick:function(){return e.history.push("/createAccount")}},"New Account"),r.a.createElement("button",{className:"button button-white button-import-account",onClick:function(){return e.history.push("/importAccount")}},"Import Account")))},ft=n(613),ht=n.n(ft);var vt=function(e){var t=function(e){if(e&&e.length>13){var t=e.length;return e.slice(0,5)+"..."+e.slice(t-5,t)}return e}(e.value);return r.a.createElement("span",null,t)},Et=n(614),gt=n.n(Et),Nt=n(615),bt=n.n(Nt);n(1037);var wt=Object(l.g)((function(e){var t=Object(a.useRef)(null),n=Object(a.useRef)(null),c=Object(a.useState)(!1),s=Object(d.a)(c,2),o=s[0],l=s[1],p=Object(a.useState)(!1),f=Object(d.a)(p,2),h=f[0],g=f[1],N=Object(a.useState)("Copy"),b=Object(d.a)(N,2),w=b[0],x=b[1],O=Object(ot.c)(se),j=Object(ot.c)(ce),C=Object(ot.c)(we),S=Object(ot.c)(Ne),A=Object(ot.c)(R),T=Object(ot.c)(J),I=Object(ot.c)(be),M=Object(ot.b)();function q(e){return"timeout"===e?"red":e>300?"yellow":"green"}return Object(a.useEffect)((function(){new ut.a(".account-copy").on("success",(function(){x("Copied!")})),E(S,A,M,ge)}),[T,A,S]),m(t,(function(){l(!1)})),m(n,(function(){g(!1)})),r.a.createElement("div",{className:"header"},r.a.createElement("div",{className:"container container-header"},r.a.createElement(u.b,{to:"/"},r.a.createElement("img",{className:"logo",src:mt.a,alt:"logo"}),T&&r.a.createElement("img",{className:"testnet",src:gt.a,alt:"testNetImg"})),e.history.location.pathname.includes("requestSign")?r.a.createElement("div",{className:"center-title"},r.a.createElement("span",null,(e.history.location.query&&e.history.location.query.method||"").replace(/([A-Z])/g," $1").toLowerCase()||"Sign Request")):r.a.createElement("div",{className:"right"},r.a.createElement("div",{ref:t,className:"current-node",onClick:function(){l(!o),g(!1)}},r.a.createElement("span",{className:"dot "+q(I[C.url])+"-bg"}),r.a.createElement("span",null,C&&C.name)),r.a.createElement("div",{ref:n,className:"setting",onClick:function(){g(!h),l(!1)}},r.a.createElement(lt,{name:"Menu",className:"setting-icon"}))),r.a.createElement("div",{className:(o?"":"hide ")+"node-list-area"},r.a.createElement("div",{className:"node-list"},C&&(S||[]).map((function(t,n){return r.a.createElement("div",{className:t.name===C.name?"node-item active":"node-item",key:t.name,onClick:function(){var n;n=t.url,i.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:M(Me(!0)),M(Ee({chainId:A,url:n})),l(!1),Promise.race([y(n),k(5e3)]).then((function(t){t?e.history.push("/redirect"):e.history.push("/nodeError")})).catch((function(t){console.log("switch node error ",t),e.history.push("/nodeError")})).finally((function(){M(Me(!1))}));case 4:case"end":return t.stop()}}))}},r.a.createElement("div",{className:"node-item-active-flag"}),r.a.createElement("div",{className:"node-item-detail"},r.a.createElement("div",{className:"node-item-detail-url"},r.a.createElement("span",{className:"url"},t.url.split("//")[1]||t.url),r.a.createElement("div",{className:v(t,T)?"node-item-detail-edit":"node-item-detail-edit custom",onClick:function(n){n.stopPropagation(),n.nativeEvent.stopImmediatePropagation(),l(!1);var a={nodeInfo:t,type:"remove"};e.history.push({pathname:"/addNode",query:a})}},r.a.createElement(lt,{name:"Edit"}))),r.a.createElement("span",{className:"delay "+q(I[t.url])},(a=I[t.url])?"timeout"===a?"timeout":a+" ms":"")));var a}))),r.a.createElement("div",{className:"add-node node-action-item",onClick:function(){e.history.push("/addNode")}},r.a.createElement(lt,{name:"Add",className:"add-node-icon node-action-item-img"}),r.a.createElement("span",null,"Add node")),r.a.createElement("div",{className:"switch-net node-action-item",onClick:function(){M(z(T?P:X)),l(!1),e.history.push("/")}},r.a.createElement("img",{className:"node-action-item-img",src:bt.a,alt:"switchImg"}),r.a.createElement("span",null,"Switch to ",T?"Mainnet":"Testnet"))),h&&!o?r.a.createElement("div",{className:"account-area"},r.a.createElement("div",{className:"action"},r.a.createElement("div",{onClick:function(){g(!1),e.history.push("/importAccount")}},r.a.createElement(lt,{name:"Putin",className:"account-area-icon"}),r.a.createElement("span",null,"Import")),r.a.createElement("div",{onClick:function(){g(!1),e.history.push("/createAccount")}},r.a.createElement(lt,{name:"Add",className:"account-area-icon"}),r.a.createElement("span",null,"New"))),j.length>0?r.a.createElement("div",{className:"accounts"},j.length>0&&j.map((function(t){return r.a.createElement("div",{className:t.address===O.address?"account-item active":"account-item",key:t.name,onClick:function(){return i.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:M(T?re({address:t.address}):ae({address:t.address})),g(!1),e.history.push("/");case 3:case"end":return n.stop()}}))}},r.a.createElement("div",{className:"account-item-active-flag"}),r.a.createElement("div",{className:"account-item-detail"},r.a.createElement("span",{className:"name"},t.name),r.a.createElement("div",{className:"address"},r.a.createElement(vt,{value:t.address}),r.a.createElement("button",{className:"account-copy","data-clipboard-text":t.address,onClick:function(e){e.stopPropagation(),e.nativeEvent.stopImmediatePropagation()},"data-tip":!0,"data-for":"copy-address-tooltip"},r.a.createElement(lt,{className:"copy-icon",name:"copy"})),r.a.createElement(ht.a,{id:"copy-address-tooltip",effect:"solid",globalEventOff:"click",className:"extension-tooltip",afterHide:function(){return x("Copy")}},r.a.createElement("span",null,w)))))}))):null):null))})),yt=n(617),xt=n.n(yt),Ot=(n(1039),n(618)),kt=n.n(Ot);n(1040);var jt=function(e){var t=e.title,n=void 0===t?"":t,a=e.desc,c=void 0===a?"Do not store the mnemonic words in your PC or Net. Anybody can take your assets with the mnemonic words.":a;return r.a.createElement("div",{className:"static-warning"},r.a.createElement("img",{className:"warning-icon",src:kt.a,alt:"warning"}),r.a.createElement("span",{className:"warning-title"},n),r.a.createElement("div",{className:"warning-desc"},c))};n(1041);var Ct=function(e){var t=e.msg;return r.a.createElement("div",{className:"error-message"},r.a.createElement("span",null,t))},St=(n(1042),function(e){var t=e.msg;return r.a.createElement("div",{className:"warning-message"},r.a.createElement("span",null,t))});var At=function(e){var t=e.secret,n=e.onSuccess,c=Object(a.useState)({name:"",pass:"",repass:""}),s=Object(d.a)(c,2),o=s[0],u=s[1],l=Object(a.useState)(""),m=Object(d.a)(l,2),p=m[0],f=m[1],h=Object(ot.c)(ce),v=Object(ot.c)(J),E=Object(ot.b)();N.Account.setNet(v?"testnet":"mainnet");var g=N.Account.from(t),b=g.address(),w=(h||[]).find((function(e){return e.address===b})),y=function(){var e;return i.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:if(o.name&&o.pass&&o.repass?o.pass.length<8?(f("password length must great than 8"),0):/(?=.*[a-z])(?=.*[A-Z])/.test(o.pass)?o.pass===o.repass||(f("password is not match"),0):(f("password must include lower and upper characters"),0):(f("name and password are required"),0)){t.next=2;break}return t.abrupt("return");case 2:e=g.encrypt(o.pass),E(te({chainId:v?X:P,account:{name:o.name,address:g.address(),keystore:e}})),n();case 5:case"end":return t.stop()}}))};return r.a.createElement(r.a.Fragment,null,r.a.createElement("input",{className:"input",type:"text",required:!0,value:o.name,onChange:function(e){return u(Object(j.a)({},o,{name:e.target.value}))},placeholder:"Name(12 characters max)"}),r.a.createElement("input",{className:"input",type:"password",value:o.pass,onChange:function(e){return u(Object(j.a)({},o,{pass:e.target.value}))},placeholder:"Password"}),r.a.createElement("input",{className:"input",type:"password",value:o.repass,onChange:function(e){return u(Object(j.a)({},o,{repass:e.target.value}))},onKeyPress:function(e){"Enter"===e.key&&y()},placeholder:"Password confirmation"}),r.a.createElement("button",{className:"button button-yellow margin-top-40",onClick:function(){y()}},"OK"),p&&r.a.createElement(Ct,{msg:p}),w&&r.a.createElement(St,{msg:"Account ".concat(w.name," has same address, and it will be overwritten by this account.")}))};var Tt=function(e){var t=Object(a.useState)(0),n=Object(d.a)(t,2),c=n[0],s=n[1],o=Object(a.useState)(""),i=Object(d.a)(o,2),u=i[0],l=i[1],m=Object(a.useState)(N.Account.newMnemonic()),p=Object(d.a)(m,1)[0],f=p.split(" "),h=Object(a.useState)(new Array(f.length).fill(!1)),v=Object(d.a)(h,2),E=v[0],g=v[1],b=Object(a.useState)(xt()(f)),w=Object(d.a)(b,1)[0],y=Object(a.useState)(new Array(12).fill("")),x=Object(d.a)(y,2),O=x[0],k=x[1],j=f.map((function(e,t){return{value:e,index:t}})),C=function(){return l(""),!0};return r.a.createElement("div",{className:"container create-account"},r.a.createElement("div",{className:"create-account-title"},r.a.createElement("span",null,["New Account","Backup Mnemonic","Verify Mnemonic","Name and password setting"][c]),r.a.createElement("span",{className:"create-account-sub-title"},["","Write down following mnemonic words, and will be used next step.","Mark the words one by one in the order last step shows.","Password contains at lease 8 characters, and at least one upper,lower and number case character."][c])),r.a.createElement("div",{className:"create-account-body"},r.a.createElement("div",{className:"create-account-body-content"},0===c&&r.a.createElement(jt,{title:"Backup Mnemonic"}),1===c&&j.map((function(e){return r.a.createElement("div",{className:"word-item",key:e.index},e.value)})),2===c&&w.map((function(e,t){return r.a.createElement("div",{className:"word-item word-item-click "+(E[t]?"word-item-selected":""),key:t,onClick:function(){var n=E[t],a=O.indexOf(""),r=e;n&&(a=11-Array.from(O).reverse().indexOf(e),r=""),O.splice(a,1,r),k(Array.from(O)),E.splice(t,1,!n),g(Array.from(E))}},e)})),3===c&&r.a.createElement(At,{type:"mnemonic",secret:p,onSuccess:function(){e.history.push("/")}})),c<2&&r.a.createElement("button",{className:"button button-yellow margin-top-40",onClick:function(){c<2&&s((function(e){return e+1}))}},["Begin","Next","Next","OK"][c]),2===c&&r.a.createElement("div",{className:"container-spacebetween margin-top-40"},r.a.createElement("button",{className:"button button-white-half",onClick:function(){return C()&&s((function(e){return e-1}))}},"Pre"),r.a.createElement("button",{className:"button button-yellow-half",onClick:function(){return(p===O.join(" ")?(C(),!0):(l("Mnemonic not correct"),!1))&&s((function(e){return e+1}))}},"Next")),c>1&&u?r.a.createElement(Ct,{msg:u}):null),2===c&&r.a.createElement("div",{className:"validate-mnemonic-area"},r.a.createElement("div",{className:"validate-mnemonic-area-container"},O.map((function(e,t){return r.a.createElement("span",{key:t},e)})))))};n(1043);var It=function(e){var t=Object(a.useState)(0),n=Object(d.a)(t,2),c=n[0],s=n[1],o=Object(a.useState)(0),i=Object(d.a)(o,2),u=i[0],l=i[1],m=Object(a.useState)(""),p=Object(d.a)(m,2),f=p[0],h=p[1],v=Object(a.useState)(""),E=Object(d.a)(v,2),g=E[0],N=E[1],b=Object(a.useState)(new Array(12).fill("")),w=Object(d.a)(b,2),y=w[0],x=w[1],O=[["Mnemonic","Private key"],["Password","Password"]],k=function(){if(0===u){if(y.some((function(e){return""===e})))return void N("Mnemonic is not correct")}else if(1===u&&!f)return void N("Private key is not correct");N(""),s((function(e){return e+1}))};return r.a.createElement("div",{className:"container import-account"},r.a.createElement("div",{className:"import-account-title"},r.a.createElement("div",{className:"import-account-title-select"},r.a.createElement("span",null,O[c][u]),0===c?r.a.createElement("span",{className:"second-choice",onClick:function(){N(""),l(1-u)}},O[c][1-u]):null),r.a.createElement("span",{className:"import-account-sub-title"},[["Input mnemonic words","Input private key"],["",""]][c][u])),r.a.createElement("div",{className:"import-account-body"},r.a.createElement("div",{className:"import-account-body-content"},0===c?0===u?r.a.createElement("div",{className:"import-mnemonic"},y.map((function(e,t){return r.a.createElement("input",{className:"word-item",key:t,value:y[t],onChange:function(e){y.splice(t,1,e.target.value),x(Array.from(y))}})}))):r.a.createElement("div",{className:"import-private-key"},r.a.createElement("textarea",{value:f,onChange:function(e){return h(e.target.value)},onKeyPress:function(e){"Enter"===e.key&&k()}})):null,1===c&&r.a.createElement(At,{type:0===u?"mnemonic":"pk",secret:0===u?y.join(" "):f.trim(),onSuccess:function(){e.history.push("/")}})),0===c&&r.a.createElement("button",{className:"button button-yellow margin-top-40",onClick:function(){c<1&&k()}},"Next"),g?r.a.createElement(Ct,{msg:g}):null))},Mt=n(623),Pt=n(619),Xt=n(624),qt=n(14),Dt=function(e){function t(){return Object(C.a)(this,t),Object(Mt.a)(this,Object(Pt.a)(t).apply(this,arguments))}return Object(Xt.a)(t,e),Object(S.a)(t,[{key:"methodName",get:function(){return this.meta.get("name").toString()}},{key:"argsArr",get:function(){var e=[],t=this.method.get("args").entries(),n=!0,a=!1,r=void 0;try{for(var c,s=t[Symbol.iterator]();!(n=(c=s.next()).done);n=!0){var o=c.value,i=Object(d.a)(o,2),u=i[0],l=i[1];e.push({name:u,value:l})}}catch(m){a=!0,r=m}finally{try{n||null==s.return||s.return()}finally{if(a)throw r}}return e}}]),t}(n(122).Extrinsic),Lt=(n(1044),n(214)),Ft=n(621),Bt=n.n(Ft);function Kt(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return t=Number(t),new Bt.a(e).dividedBy(Math.pow(10,t)).toFixed(n||t)}var _t=function(e){var t=e.query;return r.a.createElement("div",{className:"detail"},r.a.createElement("div",{className:"detail-amount"},r.a.createElement("span",null,"Amount"),r.a.createElement("span",null,Kt(t.args[2],8)," ",O(t.args[1]))),r.a.createElement("div",{className:"detail-item"},r.a.createElement("span",null,"Dest"),r.a.createElement("span",null,t.args[0])),r.a.createElement("div",{className:"detail-item"},r.a.createElement("span",null,"Memo"),r.a.createElement("span",null,t.args[3])))},Ht=function(e){var t=e.query;return r.a.createElement("div",{className:"detail"},r.a.createElement("div",{className:"detail-item"},r.a.createElement("span",null,"Module"),r.a.createElement("span",null,t.module.toLowerCase())),r.a.createElement("div",{className:"detail-item"},r.a.createElement("span",null,"Method"),r.a.createElement("span",null,t.method.replace(/([A-Z])/g,"_$1").toLowerCase())),r.a.createElement("div",{className:"detail-item"},r.a.createElement("span",null,"Args"),r.a.createElement("section",{className:"args"},r.a.createElement("ol",null,(t.argsWithName||[]).map((function(e,t){return e?r.a.createElement("li",{key:t},r.a.createElement("span",{className:"arg-name"},e.name,": "),r.a.createElement("span",{className:"arg-value"},e.value.toString().length>1e4?"[object Object]":e.value.toString())):null}))))))},Wt=function(e){var t=e.query,n=Object(ot.c)(ze),a=function(e,t){return 0===e&&"amount"===t?[8,8]:0===e&&"price"===t?[9,7]:1===e&&"amount"===t?[3,3]:1===e&&"price"===t?[4,8]:[8,8]};return r.a.createElement("div",{className:"detail"},"putOrder"===t.method&&r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"detail-amount"},r.a.createElement("span",null,"Amount"),r.a.createElement("span",null,t.args[2]," ",Kt.apply(void 0,[t.args[3]].concat(Object(g.a)(a(t.args[0],"amount"))))," ",n[t.args[0]]&&n[t.args[0]].assets)),r.a.createElement("div",{className:"detail-item"},r.a.createElement("span",null,"Price"),r.a.createElement("span",null,Kt.apply(void 0,[t.args[4]].concat(Object(g.a)(a(t.args[0],"price"))))))),"cancelOrder"===t.method&&r.a.createElement("div",{className:"detail-item"},r.a.createElement("span",null,"Id"),r.a.createElement("span",null,t.args[1])),r.a.createElement("div",{className:"detail-item"},r.a.createElement("span",null,"Trade pair"),r.a.createElement("span",null,n[t.args[0]]&&O(n[t.args[0]].assets)+"/"+O(n[t.args[0]].currency))))},zt=function(e){var t=e.query,n=Object(ot.c)(We);return r.a.createElement("div",{className:"detail"},"withdraw"===t.method&&r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"detail-amount"},r.a.createElement("span",null,"Amount"),r.a.createElement("span",null,Kt(t.args[1],8)," ",t.args[0])),r.a.createElement("div",{className:"detail-item"},r.a.createElement("span",null,"Fee"),r.a.createElement("span",null,Kt(n,8)," ",t.args[0])),r.a.createElement("div",{className:"detail-item"},r.a.createElement("span",null,"Dest"),r.a.createElement("span",null,t.args[2])),r.a.createElement("div",{className:"detail-item"},r.a.createElement("span",null,"Memo"),r.a.createElement("span",null,t.args[3]))),"revokeWithdraw"===t.method&&r.a.createElement("div",{className:"detail-item"},r.a.createElement("span",null,"Id"),r.a.createElement("span",null,t.args[0])))},Rt=function(e){var t=e.query,n=Object(ot.c)(Le),a=function(e){return console.log(e,typeof e),x().account.decodeAddress(e)};return r.a.createElement("div",{className:"detail"},t.args.length>2?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"detail-amount"},r.a.createElement("span",null,"Amount"),r.a.createElement("span",null,Kt(t.args.slice(-2,-1),8)," PCX")),"renominate"===t.method&&r.a.createElement("div",{className:"detail-item"},r.a.createElement("span",null,"From node"),r.a.createElement("span",null,n&&n[a(t.args[0])])),r.a.createElement("div",{className:"detail-item"},r.a.createElement("span",null,"Dest node"),r.a.createElement("span",null,n&&n[a(t.args.slice(-3,-2)[0])])),r.a.createElement("div",{className:"detail-item"},r.a.createElement("span",null,"Memo"),r.a.createElement("span",null,t.args.slice(-1)))):r.a.createElement(r.a.Fragment,null,"xTokens"===t.module&&r.a.createElement("div",{className:"detail-item"},r.a.createElement("span",null,"Token"),r.a.createElement("span",null,O(t.args[0]))),"register"===t.method?r.a.createElement("div",{className:"detail-item"},r.a.createElement("span",null,"Name"),r.a.createElement("span",null,t.args[0])):r.a.createElement(r.a.Fragment,null,"xStaking"===t.module&&r.a.createElement("div",{className:"detail-item"},r.a.createElement("span",null,"Node"),r.a.createElement("span",null,n&&n[a(t.args[0])])),"unfreeze"===t.method&&r.a.createElement("div",{className:"detail-item"},r.a.createElement("span",null,"Id"),r.a.createElement("span",null,t.args[1])))))};var Jt=function(e){var t=Object(ot.b)(),n=Object(a.useState)(""),c=Object(d.a)(n,2),s=c[0],o=c[1],u=Object(a.useState)(""),l=Object(d.a)(u,2),m=l[0],p=l[1],f=Object(a.useState)(0),h=Object(d.a)(f,2),v=h[0],E=h[1],N=Object(a.useState)(1),b=Object(d.a)(N,2),w=b[0],y=b[1],O=Object(a.useState)(null),k=Object(d.a)(O,2),j=k[0],C=k[1],S=Object(a.useState)(Object.assign({},e.location.query)),A=Object(d.a)(S,2),T=A[0],I=A[1],M=Object(ot.c)(J),P=Object(ot.c)(se),X=e.location.query;Object(a.useEffect)((function(){D(M)}),[M]);var q=function(e){"xStaking"===T.module&&t((function(e){var t,n,a;return i.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,i.a.awrap(De());case 2:return t=r.sent,r.next=5,i.a.awrap(t.getIntentions());case 5:n=r.sent,a={},n.forEach((function(e){a[e.account]=e.name})),e(qe(a));case 9:case"end":return r.stop()}}))})),"xSpot"===T.module&&t((function(e){var t,n,a,r;return i.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:return t=x(),n=t.trade,c.next=4,i.a.awrap(n.getTradingPairs());case 4:a=c.sent,r={},a.forEach((function(e){r[e.id]=e})),e(_e(r));case 8:case"end":return c.stop()}}))})),"xAssetsProcess"===T.module&&t((function(e){var t,n,a;return i.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return t=x(),n=t.asset,r.next=4,i.a.awrap(n.getWithdrawalLimitByToken(["BTC"]));case 4:a=r.sent,e(He(a.fee));case 6:case"end":return r.stop()}}))}))},D=function(t){if(X&&!X.module)try{var n=function(e){var t=new Dt(e);return[Object(qt.stringCamelCase)(t.methodName),t.argsArr.map((function(e){return"put_code"===t.methodName?e.value:e.value.toString()})),t.argsArr]}(X.data),a=Object(d.a)(n,3),r=a[0],c=a[1],s=a[2];T.method=r,T.argsWithName=s,T.args=c;var o="";["nominate","renominate","unnominate","unfreeze","claim","register"].includes(r)?(o="xStaking",1===c.length&&c[0].length<6&&(o="xTokens")):o=["withdraw","revokeWithdraw"].includes(r)?"xAssetsProcess":["putOrder","cancelOrder"].includes(r)?"xSpot":["transfer"].includes(r)?"xAssets":["putCode","call","instantiate","claimSurcharge","convertToErc20","convertToAsset","setTokenErc20","setErc20Selector","removeTokenErc20","forceIssueErc20","setGasPrice","setPrintln"].includes(r)?"xContracts":"",T.module=o,I(T),L(),function(e,t,n,a){var r,c,s,o,u,l,d,m;i.a.async((function(i){for(;;)switch(i.prev=i.next){case 0:if(r=x(),c=t.address,s=t.module,o=t.method,u=t.args,l=r.api.tx[s][o]){i.next=6;break}return n("Invalid method"),i.abrupt("return");case 6:if(e.address===c){i.next=9;break}return n("Invalid address"),i.abrupt("return");case 9:"putCode"===o&&(u[1]=Uint8Array.from(Object.values(u[1]))),d=l.apply(void 0,Object(g.a)(u)),m=d.getFeeSync(e.address,1),a(m);case 13:case"end":return i.stop()}}))}(P,T,p,E),q()}catch(u){console.log("parse error ",u),e.history.push("/nodeError")}},L=function(){var e;e="xAssets"===T.module&&"transfer"===T.method?r.a.createElement(_t,{query:T}):"xSpot"===T.module?r.a.createElement(Wt,{query:T}):"xAssetsProcess"===T.module?r.a.createElement(zt,{query:T}):["xStaking","xTokens"].includes(T.module)?r.a.createElement(Rt,{query:T}):r.a.createElement(Ht,{query:T}),C(e)},F=function(){return i.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:if(p(""),P&&P.address){n.next=4;break}return p("Error: address is not exist"),n.abrupt("return");case 4:if(s||(p("password is required"),0)){n.next=6;break}return n.abrupt("return");case 6:if(P.address===X.address){n.next=9;break}return p("Invalid address"),n.abrupt("return");case 9:return t(Ie(!0)),n.prev=10,n.next=13,i.a.awrap(st(s,w));case 13:p(""),t(Ie(!1)),B(),e.history.push("/"),n.next=23;break;case 19:n.prev=19,n.t0=n.catch(10),t(Ie(!1)),p("Error: ".concat(n.t0.message));case 23:case"end":return n.stop()}}),null,null,[[10,19]])};window.onbeforeunload=function(){B()};var B=function(){try{t(je())}catch(n){console.log(n)}finally{e.history.push("/")}};return X?r.a.createElement("div",{className:"container request-sign"},r.a.createElement("div",{className:"tx-panel"},j),r.a.createElement("div",{className:"adjust-gas"},r.a.createElement("div",{className:"adjust-gas-desc"},r.a.createElement("div",null,r.a.createElement("span",null,"Fee"),r.a.createElement("span",{className:"yellow"},w*v/Math.pow(10,8)+" PCX")),r.a.createElement("span",null,"More fee, faster speed")),r.a.createElement(Lt.Slider,{defaultValue:w,onChange:function(e){return y(e)},"aria-labelledby":"discrete-slider",valueLabelDisplay:"auto",step:1,marks:[{value:1,label:"1x"},{value:10,label:"10x"}],min:1,max:10})),r.a.createElement("div",{className:"submit-area"},r.a.createElement("div",{className:"title"},r.a.createElement("span",null,"Input password")),r.a.createElement("input",{value:s,onChange:function(e){return o(e.target.value)},onKeyPress:function(e){"Enter"===e.key&&F()},className:"input",type:"password",placeholder:"Password"}),r.a.createElement(Ct,{msg:m}),r.a.createElement("div",{className:"button-area margin-top-40"},r.a.createElement(Lt.DefaultButton,{size:"large",onClick:function(){B();var e=X.origin,t=X.id,n=X.dataId;rt.emit(e,t,"api",{id:n,result:{reject:!0}})}},"Cancel"),r.a.createElement(Lt.PrimaryButton,{size:"large",onClick:function(){return F()}},"Sign")))):r.a.createElement(r.a.Fragment,null)};n(1090);var Zt=function(e){return r.a.createElement("div",{className:"show-private-key"},r.a.createElement("span",{className:"title"},"Private Key"),r.a.createElement(jt,{desc:"Do not store your private key in your PC or network. Anybody with your private key will take your asseets."}),r.a.createElement("div",{className:"pk"},r.a.createElement("span",{className:"span-center-wrap"},e.location.query.pk)))};n(1091);var Qt=function(e){var t=Object(a.useState)(""),n=Object(d.a)(t,2),c=n[0],s=n[1],o=Object(a.useState)(""),u=Object(d.a)(o,2),l=u[0],m=u[1],p=Object(ot.c)(J),f=Object(ot.b)(),h=Object(ot.c)(R);function v(t,n){var a;return i.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:try{a=N.Account.fromKeyStore(t,n).privateKey(),e.history.push({pathname:"/showPrivateKey",query:{pk:a}})}catch(c){m(c.message)}case 1:case"end":return r.stop()}}))}function E(t,n,a){return i.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:try{N.Account.setNet(p?"testnet":"mainnet"),N.Account.fromKeyStore(a,n),f(ne({address:t,chainId:h})),e.history.push("/")}catch(c){m(c.message)}case 1:case"end":return r.stop()}}))}var g=function(){var t,n,a;return i.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:c&&(t=e.location.query.address,n=e.location.query.keystore,"export"===(a=e.location.query.type)?v(n,c):"remove"===a&&E(t,c,n));case 1:case"end":return r.stop()}}))};return r.a.createElement("div",{className:"enter-password"},r.a.createElement("span",{className:"title"},"Input password"),r.a.createElement("input",{className:"input",type:"password",value:c,onChange:function(e){return s(e.target.value)},onKeyPress:function(e){"Enter"===e.key&&g()},placeholder:"Password"}),r.a.createElement("button",{className:"button button-yellow margin-top-40",onClick:function(){return g()}},"Confirm"),l?r.a.createElement(Ct,{msg:l}):null)};n(608);var Vt=function(e){var t=Object(a.useState)(""),n=Object(d.a)(t,2),c=n[0],s=n[1],o=Object(a.useState)(""),u=Object(d.a)(o,2),l=u[0],m=u[1],p=Object(a.useState)(""),f=Object(d.a)(p,2),h=f[0],v=f[1],g=Object(ot.c)(Ne),N=Object(ot.c)(R),b=Object(ot.b)(),w=e.location.query,y="",x="Add node";w&&"edit"===w.type?(y="edit",x="Edit node"):w&&"remove"===w.type&&(y="remove",x="Delete node");var O=function(){return i.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:if(c&&l||(v("name and url are required"),0)){t.next=2;break}return t.abrupt("return");case 2:try{b(he({chainId:N,node:{name:c,url:l}})),E(g,N,b,ge),v(""),e.history.push("/")}catch(n){v(n.message)}case 3:case"end":return t.stop()}}))};return r.a.createElement("div",{className:"node-action"},r.a.createElement("span",{className:"title"},x),"remove"!==y?r.a.createElement(r.a.Fragment,null,r.a.createElement("input",{className:"input",type:"text",value:c,onChange:function(e){return s(e.target.value)},placeholder:"Name(12 characters max)"}),r.a.createElement("span",{className:"node-url"},"Node address"),r.a.createElement("input",{className:"input",type:"text",value:l,onChange:function(e){return m(e.target.value)},onKeyPress:function(e){"Enter"===e.key&&O()},placeholder:"wss://w1.chainx.org/ws"}),r.a.createElement("button",{className:"button button-yellow margin-top-40",onClick:function(){return O()}},"Confirm")):r.a.createElement("button",{className:"button button-white margin-top-16",onClick:function(){!function(t,n){i.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(g.length<2)){t.next=3;break}return v("can not remove the last node"),t.abrupt("return");case 3:try{b(ve({chainId:N,url:n})),E(g,N,b,ge),v(""),e.history.push("/")}catch(a){v(a.message)}case 4:case"end":return t.stop()}}))}(w.nodeInfo.name,w.nodeInfo.url)}},"Delete"),h?r.a.createElement(Ct,{msg:h}):null)};var $t,Gt=function(){return r.a.createElement("div",{className:"node-error"},r.a.createElement("span",{className:"msg"},"Current node is invalid, please switch node and retry."))},Ut=n(622),Yt=n.n(Ut);window.wallet.socketResponse=function(e){switch("string"===typeof e&&(e=JSON.parse(e)),e.type){case"api":return t=e.request,n=e.id,i.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.a.awrap(new ct(rt,t,n).handle());case 2:case"end":return e.stop()}}));case"pair":return function(e,t){return i.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,i.a.awrap(rt.emit(e.data.origin,t,"paired",!0));case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}}))}(e.request,e.id);default:return}var t,n},$t=window.sockets,rt=$t,window.sockets.initialize().then((function(){return console.log("sockets initialized")})),s.a.render(r.a.createElement(ot.a,{store:Je},r.a.createElement((function(){var e=Object(ot.b)(),t=Object(ot.c)((function(e){return e.status.loading})),n=Object(ot.c)((function(e){return e.status.initLoading})),c=Object(ot.c)(we);Object(a.useEffect)((function(){s()}),[]);var s=function(){return i.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:Promise.race([y(c.url),k(3e3)]).catch((function(e){console.log("set Chainx catch error: ".concat(e))})).finally((function(){e(Me(!1))}));case 1:case"end":return t.stop()}}))};return r.a.createElement(u.a,null,r.a.createElement(r.a.Fragment,null,r.a.createElement(wt,{props:!0}),(t||n)&&r.a.createElement("div",{className:"spinner"},r.a.createElement("img",{src:Yt.a,alt:"spinner"})),!n&&r.a.createElement("div",{className:"content"},r.a.createElement(l.d,null,r.a.createElement(l.b,{exact:!0,path:"/",component:pt}),r.a.createElement(l.b,{path:"/createAccount",component:Tt}),r.a.createElement(l.b,{path:"/importAccount",component:It}),r.a.createElement(l.b,{path:"/requestSign/:id?",component:Jt}),r.a.createElement(l.b,{path:"/showPrivateKey",component:Zt}),r.a.createElement(l.b,{path:"/enterPassword",component:Qt}),r.a.createElement(l.b,{path:"/addNode",component:Vt}),r.a.createElement(l.b,{path:"/nodeError",component:Gt}),r.a.createElement(l.a,{to:"/"})))))}),null)),document.getElementById("root"))},290:function(e,t,n){e.exports=n.p+"static/media/extension_logo.329f2527.svg"},584:function(e,t,n){},608:function(e,t,n){},614:function(e,t,n){e.exports=n.p+"static/media/testnet.3a02305f.svg"},615:function(e,t,n){e.exports=n.p+"static/media/switch.58939fba.svg"},618:function(e,t,n){e.exports=n.p+"static/media/warning.e4f3512f.png"},622:function(e,t,n){e.exports=n.p+"static/media/loading.0adb93ce.gif"},631:function(e,t,n){e.exports=n(1093)},648:function(e,t){},662:function(e,t){},664:function(e,t){},683:function(e,t){},819:function(e,t){}},[[631,1,2]]]);
//# sourceMappingURL=main.df8b25a7.chunk.js.map